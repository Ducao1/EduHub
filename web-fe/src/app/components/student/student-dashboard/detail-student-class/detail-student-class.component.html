<app-student-nav-bar [className]="className" [id]="classId"></app-student-nav-bar>
<div class="class-container">
  <div class="class-header">
    <h2>{{ className }}</h2>
    <p>{{ classDescription }}</p>
  </div>
  <div class="stream-container">
    <!-- Input area for new post -->
    <div class="new-post-input">
      <textarea [(ngModel)]="newPostContent" placeholder="Bạn muốn thông báo gì?"></textarea>
      <div *ngIf="selectedFile" class="selected-file">
        <i class="fas fa-file"></i>
        <span>{{ selectedFile.name }}</span>
        <button class="remove-file-btn" (click)="removeSelectedFile()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="input-actions">
        <input type="file" #fileInput hidden (change)="onFileSelected($event)">
        <button class="link-btn" title="Thêm file" (click)="fileInput.click()">
          <i class="fas fa-link"></i>
        </button>
        <button class="cancel-btn" (click)="cancelNewContent()">
          <i class="fas fa-times"></i>
        </button>
        <button class="send-btn" [disabled]="!newPostContent.trim() && !selectedFile" (click)="postNewContent()">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>

    <!-- Post Card -->
    <div class="post-card">
      <div class="post-header">
        <div class="avatar-circle" style="background-color: #4285f4;">
          <span>N</span>
        </div>
        <div class="post-author-info">
          <div class="author-name">Nguyễn Huỳnh Đức</div>
          <div class="post-date">3 tháng trước</div>
        </div>
        <div class="post-options">
          <i class="fas fa-ellipsis-v"></i>
        </div>
      </div>
      <div class="post-content">
        <p>hello</p>
      </div>
      <div class="comment-section">
        <div class="comment-input">
          <div class="input-row">
            <div class="avatar-circle" style="background-color: #4285f4;">
              <span>N</span>
            </div>
            <textarea [(ngModel)]="commentContent" placeholder="Viết bình luận..."></textarea>
            <div *ngIf="commentSelectedFile" class="selected-file">
              <i class="fas fa-file"></i>
              <span>{{ commentSelectedFile.name }}</span>
              <button class="remove-file-btn" (click)="removeCommentFile()">
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
          <div class="comment-actions">
            <input type="file" #commentFileInput hidden (change)="onCommentFileSelected($event)">
            <button class="link-btn" title="Thêm file" (click)="commentFileInput.click()">
              <i class="fas fa-link"></i>
            </button>
            <button class="cancel-btn" (click)="cancelComment()">
              <i class="fas fa-times"></i>
            </button>
            <button class="send-btn" [disabled]="!commentContent.trim() && !commentSelectedFile" (click)="postComment()">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>